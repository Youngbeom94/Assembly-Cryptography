
/*
 * Assembler1.s
 *
 * Created: 2020-07-07 오후 12:43:55
 *  Author: 김영범
 */ 


 .data

SBOX_TABLE:
.byte	0x63,0x7c,0x77,0x7b,0xf2,0x6b,0x6f,0xc5,0x30,0x01,0x67,0x2b,0xfe,0xd7,0xab,0x76, \
		0xca,0x82,0xc9,0x7d,0xfa,0x59,0x47,0xf0,0xad,0xd4,0xa2,0xaf,0x9c,0xa4,0x72,0xc0, \
	
SBOX_TABLE2:
.byte	0x63,0x7c,0x77,0x7b,0xf2,0x6b,0x6f,0xc5,0x30,0x01,0x67,0x2b,0xfe,0xd7,0xab,0x76, \
		0xca,0x82,0xc9,0x7d,0xfa,0x59,0x47,0xf0,0xad,0xd4,0xa2,0xaf,0x9c,0xa4,0x72,0xc0, \

.text

.global test
test:

	mov	r1,	r24 ;2
	mov	r2,	r22 ;2
	mov	r3,	r20 ;3

	sub r2,	r1
	ldi r16, hi8(SBOX_TABLE2)
	ldi r17, lo8(SBOX_TABLE2)
;	lds r7, 0x0126

	;out 0x25, r3
	;in R5, 0x25
	rcall test2
	ldi r16, 0xff

test2:
	add r2, r1
	ret